using System;
using System.Net;
using System.Collections.Generic;
using Xunit;

using Bandwidth.Standard.Client;
using Bandwidth.Standard.Api;
using Bandwidth.Standard.Model;

namespace Bandwidth.Standard.Test.Smoke
{
    /// <summary>
    ///  Class for testing MultiChannelApi
    /// </summary>
    /// <remarks>
    /// This file is automatically generated by OpenAPI Generator (https://openapi-generator.tech).
    /// Please update the test case below to test the API endpoint.
    /// </remarks>
    public class MultiChannelSmokeTests : IDisposable
    {
        private MultiChannelApi instance;
        private string accountId;
        private Configuration configuration;
        private string bwNumber;
        private string messagingApplicationId;

        public MultiChannelSmokeTests()
        {
            accountId = Environment.GetEnvironmentVariable("BW_ACCOUNT_ID");
            bwNumber = Environment.GetEnvironmentVariable("BW_NUMBER");
            messagingApplicationId = Environment.GetEnvironmentVariable("BW_MESSAGING_APPLICATION_ID");

            // Authorized API Client
            configuration = new Configuration();
            configuration.Username = Environment.GetEnvironmentVariable("BW_USERNAME");
            configuration.Password = Environment.GetEnvironmentVariable("BW_PASSWORD");
            instance = new MultiChannelApi(configuration);
        }

        public void Dispose()
        {
            // Cleanup when everything is done.
        }

        /// <summary>
        /// Test an instance of MultiChannelApi
        /// </summary>
        [Fact]
        public void InstanceTest()
        {
            Assert.IsType<MultiChannelApi>(instance);
        }

        /// <summary>
        /// Test CreateMultiChannelSMSMessage
        /// </summary>
        [Fact]
        public void CreateMultiChannelSMSMessageTest()
        {
            MultiChannelChannelListRequestObject channelListObject = new MultiChannelChannelListRequestObject(
                new MultiChannelChannelListSMSObject(
                    from: bwNumber,
                    applicationId: messagingApplicationId,
                    channel: MultiChannelMessageChannelEnum.SMS,
                    content: new SmsMessageContent(text: "Hello World!")
                )
            );

            MultiChannelMessageRequest multiChannelMessageRequest = new MultiChannelMessageRequest(
                to: Environment.GetEnvironmentVariable("USER_NUMBER"),
                tag: "tag",
                priority: PriorityEnum.High,
                expiration: DateTime.UtcNow.AddMinutes(1),
                channelList: new List<MultiChannelChannelListRequestObject> { channelListObject }
            );

            var response = instance.CreateMultiChannelMessageWithHttpInfo(accountId, multiChannelMessageRequest);
            Assert.IsType<ApiResponse<CreateMultiChannelMessageResponse>>(response);
            Assert.Equal(HttpStatusCode.Accepted, response.StatusCode);
            Assert.NotNull(response.Data);
            Assert.IsType<CreateMultiChannelMessageResponse>(response.Data);
            Assert.IsType<List<Link>>(response.Data.Links);
            Assert.IsType<MultiChannelMessageResponseData>(response.Data.Data);
            Assert.IsType<string>(response.Data.Data.Id);
            Assert.IsType<DateTime>(response.Data.Data.Time);
            Assert.IsType<MessageDirectionEnum>(response.Data.Data.Direction);
            Assert.Equal(MessageDirectionEnum.Out, response.Data.Data.Direction);
            Assert.IsType<List<string>>(response.Data.Data.To);
            Assert.IsType<string>(response.Data.Data.Tag);
            Assert.IsType<PriorityEnum>(response.Data.Data.Priority);
            Assert.Equal(PriorityEnum.High, response.Data.Data.Priority);
            Assert.IsType<DateTime>(response.Data.Data.Expiration);
            Assert.IsType<List<MultiChannelChannelListResponseObject>>(response.Data.Data.ChannelList);

            // Add more assertions when C# generator supports discriminator mapping
            // Assert.IsType<MultiChannelChannelListSMSResponseObject>(response.Data.Data.ChannelList[0].ActualInstance);
        }

        /// <summary>
        /// Test CreateMultiChannelMMSMessage
        /// </summary>
        [Fact]
        public void CreateMultiChannelMMSMessageTest()
        {
            MultiChannelChannelListRequestObject channelListObject = new MultiChannelChannelListRequestObject(
                new MultiChannelChannelListMMSObject(
                    from: bwNumber,
                    applicationId: messagingApplicationId,
                    channel: MultiChannelMessageChannelEnum.MMS,
                    content: new MmsMessageContent(
                        text: "Hello World!",
                        media: new List<MmsMessageContentFile> {
                            new MmsMessageContentFile(
                                fileUrl: "https://www.example.com/image.jpg"
                            )
                        }
                    )
                )
            );

            MultiChannelMessageRequest multiChannelMessageRequest = new MultiChannelMessageRequest(
                to: Environment.GetEnvironmentVariable("USER_NUMBER"),
                tag: "tag",
                priority: PriorityEnum.High,
                expiration: DateTime.UtcNow.AddMinutes(1),
                channelList: new List<MultiChannelChannelListRequestObject> { channelListObject }
            );

            var response = instance.CreateMultiChannelMessageWithHttpInfo(accountId, multiChannelMessageRequest);
            Assert.IsType<ApiResponse<CreateMultiChannelMessageResponse>>(response);
            Assert.Equal(HttpStatusCode.Accepted, response.StatusCode);
            Assert.NotNull(response.Data);
            Assert.IsType<CreateMultiChannelMessageResponse>(response.Data);
            Assert.IsType<List<Link>>(response.Data.Links);
            Assert.IsType<MultiChannelMessageResponseData>(response.Data.Data);
            Assert.IsType<string>(response.Data.Data.Id);
            Assert.IsType<DateTime>(response.Data.Data.Time);
            Assert.IsType<MessageDirectionEnum>(response.Data.Data.Direction);
            Assert.Equal(MessageDirectionEnum.Out, response.Data.Data.Direction);
            Assert.IsType<List<string>>(response.Data.Data.To);
            Assert.IsType<string>(response.Data.Data.Tag);
            Assert.IsType<PriorityEnum>(response.Data.Data.Priority);
            Assert.Equal(PriorityEnum.High, response.Data.Data.Priority);
            Assert.IsType<DateTime>(response.Data.Data.Expiration);
            Assert.IsType<List<MultiChannelChannelListResponseObject>>(response.Data.Data.ChannelList);

            // Add more assertions when C# generator supports discriminator mapping
            // Assert.IsType<MultiChannelChannelListMMSResponseObject>(response.Data.Data.ChannelList[0].ActualInstance);
        }

        /// <summary>
        /// Test CreateMultiChannelRBMTextMessage
        /// </summary>
        [Fact]
        public void CreateMultiChannelRBMTextMessageTest()
        {
            MultiChannelChannelListRequestObject channelListRBMObject = new MultiChannelChannelListRequestObject(
                new MultiChannelChannelListRBMObject(
                    from: bwNumber,
                    applicationId: messagingApplicationId,
                    channel: MultiChannelMessageChannelEnum.RBM,
                    content: new MultiChannelChannelListRBMObjectAllOfContent(
                        new RbmMessageContentText(
                            text: "Hello World!",
                            suggestions: new List<MultiChannelAction> {
                                new MultiChannelAction(new RbmActionDial(
                                    type: RbmActionTypeEnum.DIALPHONE,
                                    text: "Call Us",
                                    postbackData: new byte[] {1, 2, 3},
                                    phoneNumber: bwNumber
                                ))
                            }
                        )
                    )
                )
            );

            MultiChannelMessageRequest multiChannelMessageRequest = new MultiChannelMessageRequest(
                to: Environment.GetEnvironmentVariable("USER_NUMBER"),
                tag: "tag",
                priority: PriorityEnum.High,
                expiration: DateTime.UtcNow.AddMinutes(1),
                channelList: new List<MultiChannelChannelListRequestObject> { channelListRBMObject }
            );

            var response = instance.CreateMultiChannelMessageWithHttpInfo(accountId, multiChannelMessageRequest);
            Assert.IsType<ApiResponse<CreateMultiChannelMessageResponse>>(response);
            Assert.Equal(HttpStatusCode.Accepted, response.StatusCode);
            Assert.NotNull(response.Data);
            Assert.IsType<CreateMultiChannelMessageResponse>(response.Data);
            Assert.IsType<List<Link>>(response.Data.Links);
            Assert.IsType<MultiChannelMessageResponseData>(response.Data.Data);
            Assert.IsType<string>(response.Data.Data.Id);
            Assert.IsType<DateTime>(response.Data.Data.Time);
            Assert.IsType<MessageDirectionEnum>(response.Data.Data.Direction);
            Assert.Equal(MessageDirectionEnum.Out, response.Data.Data.Direction);
            Assert.IsType<List<string>>(response.Data.Data.To);
            Assert.IsType<string>(response.Data.Data.Tag);
            Assert.IsType<PriorityEnum>(response.Data.Data.Priority);
            Assert.Equal(PriorityEnum.High, response.Data.Data.Priority);
            Assert.IsType<DateTime>(response.Data.Data.Expiration);
            Assert.IsType<List<MultiChannelChannelListResponseObject>>(response.Data.Data.ChannelList);
            Assert.IsType<MultiChannelChannelListRBMResponseObject>(response.Data.Data.ChannelList[0].ActualInstance);
            var channelListObject = (MultiChannelChannelListRBMResponseObject)response.Data.Data.ChannelList[0].ActualInstance;
            Assert.Equal(bwNumber, channelListObject.From);
            Assert.Equal(messagingApplicationId, channelListObject.ApplicationId);
            Assert.Equal(MultiChannelMessageChannelEnum.RBM, channelListObject.Channel);
            Assert.Equal(bwNumber, channelListObject.Owner);
            Assert.IsType<RbmMessageContentText>(channelListObject.Content.ActualInstance);
            var rbmContent = (RbmMessageContentText)channelListObject.Content.ActualInstance;
            Assert.IsType<string>(rbmContent.Text);
            Assert.IsType<List<MultiChannelAction>>(rbmContent.Suggestions);
            Assert.IsType<MultiChannelAction>(rbmContent.Suggestions[0]);
            Assert.IsType<RbmActionDial>(rbmContent.Suggestions[0].ActualInstance);
            var rbmActionDial = (RbmActionDial)rbmContent.Suggestions[0].ActualInstance;
            Assert.Equal(RbmActionTypeEnum.DIALPHONE, rbmActionDial.Type);
            Assert.IsType<string>(rbmActionDial.Text);
            Assert.IsType<byte[]>(rbmActionDial.PostbackData);
            Assert.IsType<string>(rbmActionDial.PhoneNumber);
        }

        /// <summary>
        /// Test CreateMultiChannelRBMMediaMessage
        /// </summary>
        [Fact]
        public void CreateMultiChannelRBMMediaMessageTest()
        {
            MultiChannelChannelListRequestObject channelListRBMObject = new MultiChannelChannelListRequestObject(
                new MultiChannelChannelListRBMObject(
                    from: bwNumber,
                    applicationId: messagingApplicationId,
                    channel: MultiChannelMessageChannelEnum.RBM,
                    content: new MultiChannelChannelListRBMObjectAllOfContent(
                        new RbmMessageMedia(
                            media: new List<RbmMessageContentFile> {
                                new RbmMessageContentFile(
                                    fileUrl: "https://test.url/",
                                    thumbnailUrl: "https://test.url/"
                                )
                            },
                            suggestions: new List<MultiChannelAction> {
                                new MultiChannelAction(new RbmActionDial(
                                    type: RbmActionTypeEnum.DIALPHONE,
                                    text: "Call Us",
                                    postbackData: new byte[] {1, 2, 3},
                                    phoneNumber: bwNumber
                                ))
                            }
                        )
                    )
                )
            );

            MultiChannelMessageRequest multiChannelMessageRequest = new MultiChannelMessageRequest(
                to: Environment.GetEnvironmentVariable("USER_NUMBER"),
                tag: "tag",
                priority: PriorityEnum.High,
                expiration: DateTime.UtcNow.AddMinutes(1),
                channelList: new List<MultiChannelChannelListRequestObject> { channelListRBMObject }
            );

            var response = instance.CreateMultiChannelMessageWithHttpInfo(accountId, multiChannelMessageRequest);
            Assert.IsType<ApiResponse<CreateMultiChannelMessageResponse>>(response);
            Assert.Equal(HttpStatusCode.Accepted, response.StatusCode);
            Assert.NotNull(response.Data);
            Assert.IsType<CreateMultiChannelMessageResponse>(response.Data);
            Assert.IsType<List<Link>>(response.Data.Links);
            Assert.IsType<MultiChannelMessageResponseData>(response.Data.Data);
            Assert.IsType<string>(response.Data.Data.Id);
            Assert.IsType<DateTime>(response.Data.Data.Time);
            Assert.IsType<MessageDirectionEnum>(response.Data.Data.Direction);
            Assert.Equal(MessageDirectionEnum.Out, response.Data.Data.Direction);
            Assert.IsType<List<string>>(response.Data.Data.To);
            Assert.IsType<string>(response.Data.Data.Tag);
            Assert.IsType<PriorityEnum>(response.Data.Data.Priority);
            Assert.Equal(PriorityEnum.High, response.Data.Data.Priority);
            Assert.IsType<DateTime>(response.Data.Data.Expiration);
            Assert.IsType<List<MultiChannelChannelListResponseObject>>(response.Data.Data.ChannelList);
            Assert.IsType<MultiChannelChannelListRBMResponseObject>(response.Data.Data.ChannelList[0].ActualInstance);
            var channelListObject = (MultiChannelChannelListRBMResponseObject)response.Data.Data.ChannelList[0].ActualInstance;
            Assert.Equal(bwNumber, channelListObject.From);
            Assert.Equal(messagingApplicationId, channelListObject.ApplicationId);
            Assert.Equal(MultiChannelMessageChannelEnum.RBM, channelListObject.Channel);
            Assert.Equal(bwNumber, channelListObject.Owner);
            Assert.IsType<RbmMessageMedia>(channelListObject.Content.ActualInstance);
            var rbmContent = (RbmMessageMedia)channelListObject.Content.ActualInstance;
            Assert.IsType<List<RbmMessageContentFile>>(rbmContent.Media);
            Assert.IsType<RbmMessageContentFile>(rbmContent.Media[0]);
            Assert.IsType<string>(rbmContent.Media[0].FileUrl);
            Assert.IsType<string>(rbmContent.Media[0].ThumbnailUrl);
            Assert.IsType<List<MultiChannelAction>>(rbmContent.Suggestions);
            Assert.IsType<MultiChannelAction>(rbmContent.Suggestions[0]);
            Assert.IsType<RbmActionDial>(rbmContent.Suggestions[0].ActualInstance);
            var rbmActionDial = (RbmActionDial)rbmContent.Suggestions[0].ActualInstance;
            Assert.Equal(RbmActionTypeEnum.DIALPHONE, rbmActionDial.Type);
            Assert.IsType<string>(rbmActionDial.Text);
            Assert.IsType<byte[]>(rbmActionDial.PostbackData);
            Assert.IsType<string>(rbmActionDial.PhoneNumber);
        }

        /// <summary>
        /// Test CreateMultiChannelRBMRichStandaloneMessageTest
        /// </summary>
        [Fact]
        public void CreateMultiChannelRBMRichStandaloneMessageTest()
        {
            MultiChannelChannelListRequestObject channelListRBMObject = new MultiChannelChannelListRequestObject(
                new MultiChannelChannelListRBMObject(
                    from: bwNumber,
                    applicationId: messagingApplicationId,
                    channel: MultiChannelMessageChannelEnum.RBM,
                    content: new MultiChannelChannelListRBMObjectAllOfContent(
                        new RbmMessageContentRichCard(
                            new RbmStandaloneCard(
                                orientation: StandaloneCardOrientationEnum.VERTICAL,
                                thumbnailImageAlignment: ThumbnailAlignmentEnum.LEFT,
                                cardContent: new RbmCardContent(
                                    title: "TestTitle",
                                    description: "TestDescription",
                                    media: new RbmCardContentMedia(
                                        fileUrl: "https://test.url/",
                                        thumbnailUrl: "https://test.url/",
                                        height: RbmMediaHeightEnum.MEDIUM
                                    ),
                                    suggestions: new List<MultiChannelAction> {
                                        new MultiChannelAction(new RbmActionDial(
                                            type: RbmActionTypeEnum.DIALPHONE,
                                            text: "Call Us",
                                            postbackData: new byte[] {1, 2, 3},
                                            phoneNumber: bwNumber
                                        ))
                                    }
                                )
                            )
                        )
                    )
                )
            );

            MultiChannelMessageRequest multiChannelMessageRequest = new MultiChannelMessageRequest(
                to: Environment.GetEnvironmentVariable("USER_NUMBER"),
                tag: "tag",
                priority: PriorityEnum.High,
                expiration: DateTime.UtcNow.AddMinutes(1),
                channelList: new List<MultiChannelChannelListRequestObject> { channelListRBMObject }
            );

            var response = instance.CreateMultiChannelMessageWithHttpInfo(accountId, multiChannelMessageRequest);
            Assert.IsType<ApiResponse<CreateMultiChannelMessageResponse>>(response);
            Assert.Equal(HttpStatusCode.Accepted, response.StatusCode);
            Assert.NotNull(response.Data);
            Assert.IsType<CreateMultiChannelMessageResponse>(response.Data);
            Assert.IsType<List<Link>>(response.Data.Links);
            Assert.IsType<MultiChannelMessageResponseData>(response.Data.Data);
            Assert.IsType<string>(response.Data.Data.Id);
            Assert.IsType<DateTime>(response.Data.Data.Time);
            Assert.IsType<MessageDirectionEnum>(response.Data.Data.Direction);
            Assert.Equal(MessageDirectionEnum.Out, response.Data.Data.Direction);
            Assert.IsType<List<string>>(response.Data.Data.To);
            Assert.IsType<string>(response.Data.Data.Tag);
            Assert.IsType<PriorityEnum>(response.Data.Data.Priority);
            Assert.Equal(PriorityEnum.High, response.Data.Data.Priority);
            Assert.IsType<DateTime>(response.Data.Data.Expiration);
            Assert.IsType<List<MultiChannelChannelListResponseObject>>(response.Data.Data.ChannelList);
            Assert.IsType<MultiChannelChannelListRBMResponseObject>(response.Data.Data.ChannelList[0].ActualInstance);
            var channelListObject = (MultiChannelChannelListRBMResponseObject)response.Data.Data.ChannelList[0].ActualInstance;
            Assert.Equal(bwNumber, channelListObject.From);
            Assert.Equal(messagingApplicationId, channelListObject.ApplicationId);
            Assert.Equal(MultiChannelMessageChannelEnum.RBM, channelListObject.Channel);
            Assert.Equal(bwNumber, channelListObject.Owner);
            Assert.IsType<RbmMessageContentRichCard>(channelListObject.Content.ActualInstance);
            var rbmContentRichCard = (RbmMessageContentRichCard)channelListObject.Content.ActualInstance;
            Assert.IsType<RbmStandaloneCard>(rbmContentRichCard.ActualInstance);
            var rbmContent = (RbmStandaloneCard)rbmContentRichCard.ActualInstance;
            Assert.Equal(StandaloneCardOrientationEnum.VERTICAL, rbmContent.Orientation);
            Assert.Equal(ThumbnailAlignmentEnum.LEFT, rbmContent.ThumbnailImageAlignment);
            Assert.IsType<RbmCardContent>(rbmContent.CardContent);
            var cardContent = rbmContent.CardContent;
            Assert.IsType<string>(cardContent.Title);
            Assert.IsType<string>(cardContent.Description);
            Assert.IsType<RbmCardContentMedia>(cardContent.Media);
            var cardMedia = cardContent.Media;
            Assert.IsType<string>(cardMedia.FileUrl);
            Assert.IsType<string>(cardMedia.ThumbnailUrl);
            Assert.Equal(RbmMediaHeightEnum.MEDIUM, cardMedia.Height);
            Assert.IsType<List<MultiChannelAction>>(cardContent.Suggestions);
            Assert.IsType<MultiChannelAction>(cardContent.Suggestions[0]);
            Assert.IsType<RbmActionDial>(cardContent.Suggestions[0].ActualInstance);
            var rbmActionDial = (RbmActionDial)cardContent.Suggestions[0].ActualInstance;
            Assert.Equal(RbmActionTypeEnum.DIALPHONE, rbmActionDial.Type);
            Assert.IsType<string>(rbmActionDial.Text);
            Assert.IsType<byte[]>(rbmActionDial.PostbackData);
            Assert.IsType<string>(rbmActionDial.PhoneNumber);
        }

        /// <summary>
        /// Test CreateMultiChannelRBMRichCarouselMessageTest
        /// </summary>
        [Fact]
        public void CreateMultiChannelRBMRichCarouselMessageTest()
        {
            MultiChannelChannelListRequestObject channelListRBMObject = new MultiChannelChannelListRequestObject(
                new MultiChannelChannelListRBMObject(
                    from: bwNumber,
                    applicationId: messagingApplicationId,
                    channel: MultiChannelMessageChannelEnum.RBM,
                    content: new MultiChannelChannelListRBMObjectAllOfContent(
                        new RbmMessageContentRichCard(
                            new RbmMessageCarouselCard(
                                cardWidth: CardWidthEnum.MEDIUM,
                                cardContents: new List<RbmCardContent> {
                                    new RbmCardContent(
                                        title: "TestTitle",
                                        description: "TestDescription",
                                        media: new RbmCardContentMedia(
                                            fileUrl: "https://test.url/",
                                            thumbnailUrl: "https://test.url/",
                                            height: RbmMediaHeightEnum.MEDIUM
                                        ),
                                        suggestions: new List<MultiChannelAction> {
                                            new MultiChannelAction(new RbmActionDial(
                                                type: RbmActionTypeEnum.DIALPHONE,
                                                text: "Call Us",
                                                postbackData: new byte[] {1, 2, 3},
                                                phoneNumber: bwNumber
                                            ))
                                        }
                                    ),
                                    new RbmCardContent(
                                        title: "TestTitle2"
                                    )
                                }
                            )
                        )
                    )
                )
            );

            MultiChannelMessageRequest multiChannelMessageRequest = new MultiChannelMessageRequest(
                to: Environment.GetEnvironmentVariable("USER_NUMBER"),
                tag: "tag",
                priority: PriorityEnum.High,
                expiration: DateTime.UtcNow.AddMinutes(1),
                channelList: new List<MultiChannelChannelListRequestObject> { channelListRBMObject }
            );

            var response = instance.CreateMultiChannelMessageWithHttpInfo(accountId, multiChannelMessageRequest);
            Assert.IsType<ApiResponse<CreateMultiChannelMessageResponse>>(response);
            Assert.Equal(HttpStatusCode.Accepted, response.StatusCode);
            Assert.NotNull(response.Data);
            Assert.IsType<CreateMultiChannelMessageResponse>(response.Data);
            Assert.IsType<List<Link>>(response.Data.Links);
            Assert.IsType<MultiChannelMessageResponseData>(response.Data.Data);
            Assert.IsType<string>(response.Data.Data.Id);
            Assert.IsType<DateTime>(response.Data.Data.Time);
            Assert.IsType<MessageDirectionEnum>(response.Data.Data.Direction);
            Assert.Equal(MessageDirectionEnum.Out, response.Data.Data.Direction);
            Assert.IsType<List<string>>(response.Data.Data.To);
            Assert.IsType<string>(response.Data.Data.Tag);
            Assert.IsType<PriorityEnum>(response.Data.Data.Priority);
            Assert.Equal(PriorityEnum.High, response.Data.Data.Priority);
            Assert.IsType<DateTime>(response.Data.Data.Expiration);
            Assert.IsType<List<MultiChannelChannelListResponseObject>>(response.Data.Data.ChannelList);
            Assert.IsType<MultiChannelChannelListRBMResponseObject>(response.Data.Data.ChannelList[0].ActualInstance);
            var channelListObject = (MultiChannelChannelListRBMResponseObject)response.Data.Data.ChannelList[0].ActualInstance;
            Assert.Equal(bwNumber, channelListObject.From);
            Assert.Equal(messagingApplicationId, channelListObject.ApplicationId);
            Assert.Equal(MultiChannelMessageChannelEnum.RBM, channelListObject.Channel);
            Assert.Equal(bwNumber, channelListObject.Owner);
            Assert.IsType<RbmMessageContentRichCard>(channelListObject.Content.ActualInstance);
            var rbmContentRichCard = (RbmMessageContentRichCard)channelListObject.Content.ActualInstance;
            Assert.IsType<RbmMessageCarouselCard>(rbmContentRichCard.ActualInstance);
            var rbmContent = (RbmMessageCarouselCard)rbmContentRichCard.ActualInstance;
            Assert.Equal(CardWidthEnum.MEDIUM, rbmContent.CardWidth);
            Assert.IsType<List<RbmCardContent>>(rbmContent.CardContents);
            Assert.IsType<RbmCardContent>(rbmContent.CardContents[0]);
            Assert.IsType<string>(rbmContent.CardContents[0].Title);
            Assert.IsType<string>(rbmContent.CardContents[0].Description);
            Assert.IsType<RbmCardContentMedia>(rbmContent.CardContents[0].Media);
            var cardMedia = rbmContent.CardContents[0].Media;
            Assert.IsType<string>(cardMedia.FileUrl);
            Assert.IsType<string>(cardMedia.ThumbnailUrl);
            Assert.Equal(RbmMediaHeightEnum.MEDIUM, cardMedia.Height);
            Assert.IsType<List<MultiChannelAction>>(rbmContent.CardContents[0].Suggestions);
            Assert.IsType<MultiChannelAction>(rbmContent.CardContents[0].Suggestions[0]);
            Assert.IsType<RbmActionDial>(rbmContent.CardContents[0].Suggestions[0].ActualInstance);
            var rbmActionDial = (RbmActionDial)rbmContent.CardContents[0].Suggestions[0].ActualInstance;
            Assert.Equal(RbmActionTypeEnum.DIALPHONE, rbmActionDial.Type);
            Assert.IsType<string>(rbmActionDial.Text);
            Assert.IsType<byte[]>(rbmActionDial.PostbackData);
            Assert.IsType<string>(rbmActionDial.PhoneNumber);
            Assert.IsType<RbmCardContent>(rbmContent.CardContents[1]);
            Assert.IsType<string>(rbmContent.CardContents[1].Title);
        }
    }
}
